<section id="intro-videos" class="intro-videos" aria-label="Intro videos">
  <div class="intro-videos-inner">
    <video class="bg-video" src="/videos/hero1.mp4" autoplay muted loop playsinline preload="metadata"></video>
    <video class="bg-video" src="/videos/hero2.mp4" autoplay muted loop playsinline preload="metadata"></video>
    <video class="bg-video" src="/videos/hero3.mp4" autoplay muted loop playsinline preload="metadata"></video>
    <video class="bg-video" src="/videos/hero4.mp4" autoplay muted loop playsinline preload="metadata"></video>

    <div class="intro-overlay">
      <div class="container">
        <h1 class="intro-title">We create<br/><strong>Innovative Tooling</strong></h1>
        <p class="intro-sub">For over 40 years, we have specialized in robotic tooling and material handling systems. Our tooling is based on a modular system that enables fast configuration.</p>
        <a class="cta" href="/products">Our Products & Services</a>
      </div>
    </div>

    <button class="intro-skip" aria-label="Enter site">Enter site</button>
  </div>
</section>

<script type="module">
  // Crossfade background videos: cycle opacity between stacked videos
  const vids = Array.from(document.querySelectorAll('.bg-video'));
  let idx = 0;
  vids.forEach((v, i) => { v.style.opacity = i === 0 ? '1' : '0'; v.style.transition = 'opacity 1s ease'; });

  const cycle = () => {
    const current = vids[idx];
    const next = vids[(idx + 1) % vids.length];
    current.style.opacity = '0';
    next.style.opacity = '1';
    idx = (idx + 1) % vids.length;
  };

  // change every 6s
  const timer = setInterval(cycle, 6000);

  // Skip/enter button scrolls to main content
  const btn = document.querySelector('.intro-skip');
  btn?.addEventListener('click', () => {
    clearInterval(timer);
    document.querySelector('main')?.scrollIntoView({ behavior: 'smooth' });
  });
</script>
